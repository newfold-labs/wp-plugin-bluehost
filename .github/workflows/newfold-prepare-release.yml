name: Newfold Prepare Release

on:
  workflow_dispatch:
    inputs:
      level:
        description: The level of release to be used.
        type: choice
        options:
          - patch
          - minor
          - major
        default: "patch"
        required: true

# Disable permissions for all available scopes by default.
# Any needed permissions should be configured at the job level.
permissions: {}

jobs:

  # This runs the newfold reusable-plugin-prep-release workflow for this plugin to prepare a release.
  prep-release:
    name: Prepare Release
    permissions:
      contents: write
      pull-requests: write
    uses: newfold-labs/workflows/.github/workflows/reusable-plugin-prep-release.yml@add/plugin-prep-release
    with:
      plugin-repo: ${{ github.repository }}
      plugin-branch: ${{ env.GITHUB_REF_NAME }}
      level: ${{ inputs.level }}
      php-file: "bluehost-wordpress-plugin.php"
